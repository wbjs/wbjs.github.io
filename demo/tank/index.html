<html>
<head>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            border: 0;
            width: 100%;
            height: 100%;
        }
    </style>
    <title>Score: 0</title></head>
<body>
<canvas id="c" width="600" height="800"></canvas>
<script>
    this.onload = function () {
        var m = document, b = m.getElementById('c'), c = b.getContext('2d'), v = 10, r = ['0110', '1111', '0110', '1111'], e = ['1111', '0110', '1111', '0110'], i = 0, j = 0, k = 0, f = [], o = Math.random, y = function () {
            f.push([~~(o() * 56), -3]);
        }, s = 1, h = 5, q = 28, t = 74, g = 0, n = 0, d = function (t, x, y, r) {
            while (r[i]) {
                j = 0;
                while (r[i][j]) {
                    if (r[i][j] * 1)t.fillRect(v * (x + j), v * (y + i), v, v);
                    j++;
                }
                i++;
            }
            i = 0;
            j = 0;
        }, w = function () {
            if (!s || n)return;
            c.clearRect(0, 0, 600, 800);
            while (f[k]) {
                f[k][1]++;
                if (Math.sqrt((f[k][0] - q) * (f[k][0] - q) + (f[k][1] - t) * (f[k][1] - t)) < 4) {
                    n = 1;
                }
                d(c, f[k][0], f[k][1], e);
                if (f[k][1] > 80) {
                    f.splice(k, 1);
                    k--;
                    g++;
                }
                k++;
            }
            if (!(h % 5) && o() > 0.3) {
                y();
            }
            k = 0;
            c.fillStyle = n ? 'red' : 'teal';
            d(c, q, t, r);
            c.fillStyle = '#000';
            h++;
            m.title = "Score: " + g;
            if (n) {
                gameover('Game Over. Your Score: ' + g);
                top.reload();
            }
        };
        b.setAttribute('width', 600);
        b.setAttribute('height', 800);
        m.addEventListener('keyup', function (e) {
            if (e.keyCode == 37) {
                q--;
                if (q < 0)q = 0;
            }
            if (e.keyCode == 39) {
                q++;
                if (q > 56)q = 56;
            }
        }, true);
        y();
        this.setInterval(w, 50);
    }

</script>
</body>
</html>
