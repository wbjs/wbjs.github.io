<html>
<head>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            border: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body style="overflow:hidden;background:#000;">
<canvas id="c" width="1920" height="929"></canvas>
<script>
    var a = document, b = a.getElementById("c"), c = b.getContext("2d"), d = 1E3, e = 100, f = 10, h = 256, i = Math, j = i.random, k = i.floor, l = "fillStyle", m = "length", n, o, p, q, r = 0, s = [], t = [], v = [], w = 0;
    a.body.setAttribute("style", "overflow:hidden;background:#000;");
    b.width = n = innerWidth;
    b.height = o = innerHeight;
    for (p = 0; p < e; p++) {
        v[p] = [];
        s[p] = {x: j() * d, y: d * (1 + j() / 3), a: -i.sqrt(d * f + j() * d * f)}
    }
    setInterval(x, 33);
    function y(g, u) {
        for (p = f; p; p--)t[t[m]] = {
            fillStyle: "rgba(" + k(h * j()) + "," + k(h * j()) + "," + k(h * j()) + ",.5)",
            x: g,
            y: u,
            c: e * (j() - j()),
            a: e * (j() - j()),
            b: e
        }
    }
    function x() {
        r++;
        c[l] = "rgba(0,0,0,.05)";
        c.fillRect(0, 0, n, o);
        for (p = t[m] - 1; q = t[p]; p--) {
            q.a += .2;
            q.x += q.c / 30;
            q.y += q.a / 30;
            c[l] = q[l];
            z(q.x, q.y, q.b / 20 * j());
            --q.b < 0 || q.x < 0 || q.x > d || q.y < 0 || q.y > d ? t.splice(p, 1) : v[q.x / f | 0][q.y / f | 0] = r
        }
        c[l] = "#fff";
        for (p = s[m] - 1; q = s[p]; p--)if (q.y > d)q.y--; else {
            q.a += .3;
            q.y += q.a / 30;
            z(q.x, q.y, 1);
            if (r - v[q.x / f | 0][q.y / f | 0] < 30) {
                s.splice(p, 1);
                y(q.x, q.y)
            }
        }
    }
    function z(g, u, A) {
        c.beginPath();
        c.arc(g * n / d, u * o / d, A, 0, 7, 1 > 0);
        c.closePath();
        c.fill()
    }
    b.onclick = function (g) {
        w++ || y(g.pageX / n * d, g.pageY / o * d)
    };
</script>
</body>
</html>
